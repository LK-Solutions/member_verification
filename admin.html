<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Portal - Upload Members</title>
  <link rel="stylesheet" href="style.css">
  <script>
    // Simple password protection
    const allowed = (() => {
      const password = prompt("Enter admin password:");
      // Change "YourSecretPassword" to your desired password
      return password === "YourSecretPassword";
    })();
    if (!allowed) {
      document.write('<h2 style="color:red;text-align:center;margin-top:3em;">Access Denied</h2>');
    }
  </script>
</head>
<body style="display: none;">
  <div class="container">
    <h2>Admin: Upload Members CSV</h2>
    <input type="file" id="csvInput" accept=".csv">
    <div id="importMsg"></div>
    <button onclick="window.location.href='index.html'">Back to Member Search</button>
  </div>
  <script>
    // Only show the page if password is correct
    if (typeof allowed !== "undefined" && allowed) {
      document.body.style.display = "";
      document.getElementById('csvInput').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file) return;
        const reader = new FileReader();
        reader.onload = function(e) {
          // Save the CSV content to localStorage for member search page
          localStorage.setItem('membersCSV', e.target.result);
          document.getElementById('importMsg').innerText = "File uploaded and saved!";
        };
        reader.readAsText(file);
      });
    }
  </script>
</body>
</html>
